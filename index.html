<!DOCTYPE html>
<html lang="en">
<head>
	<title>Catch! Teenieping TV</title>
	<link rel="icon" type="image/x-icon" href="favicon.ico">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<meta name="theme-color" content="#774936" />
	<meta name="description" content="The go-to place for watching Dessert Catch! Teenieping!" />
	
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap');
		@import url('https://fonts.googleapis.com/css?family=Source Sans Pro');


		/* general */
		#bg {
			background-image: linear-gradient(130deg, #ffd1a8 25%, #ffd7ba 25%, #ffd7ba 50%, #ffd1a8 50%, #ffd1a8 75%, #ffd7ba 75%, #ffd7ba 100%);
			background-size: 182.76px 217.80px;
			height: 100vh;
			width: 100vw;
			position: fixed;
			z-index: -1;
		}
		@media (min-width: 1400px) {
			.container, .container-lg, .container-md, .container-sm, .container-xl, .container-xxl {
				max-width: 1140px;
			}
		}
		@media (max-width: 544px) {
			.display-4 {
  				font-size: 3rem;
  			}
  			.display-6 {
  				font-size: 2.25rem;
  			}
  			.card .card-body img {
				max-height: 7rem;
				width: auto;
			}
		}

		/* cards */
		.card {
			border: none;
			background: none;
		}
		.card .card-body img {
			max-height: 9rem;
			width: auto;
		}
		.ctv_container {
			background: #FFE5D9;
			border: thick double #CB997E;
			flex-direction: row;
			border-radius: 10px;
			box-shadow: 0px 0px 18px -10px #CB997E;
			padding: 2rem;
			color: #774936;
		}
		p {font-family: 'Source Sans Pro'}
		.ctv_container h3, .ctv_container h4, .ctv_container .card-text {font-family: 'Fredoka One'}
		.stretched-link, .stretched-link:hover, .stretched-link:focus {color: inherit; text-decoration: inherit !important;}
		.ratio iframe, .card img {border-radius: 0.25rem;}

		/* next week */
		.epThumbnail {
			border: 2px solid #CB997E;
		}
		.ctvbutton {
			background: #e6ae15;
			color: white;
			border: solid #e6ae15;
			border-width: 5px 10px;
			border-radius: 3px;
			font-family: 'Fredoka One';
		}
		.ctvbutton, .ctvbutton:hover, .ctvbutton:focus {color: white; text-decoration: inherit !important;}

		/* footer */
		footer {
			color: #774936;
			font-family: 'Fredoka One';
		}
		footer a, footer a:hover, footer a:focus, #nwAirdate {color: #e6ae15;}
	</style>
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-DDFYT5P728"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-DDFYT5P728');
	</script>
</head>
<body>
	<div id="bg"></div>

	<div class="px-4 py-3 text-center">
		<a href="/CatchTeeniepingTV/"><img src="banner.png" id="icon" class="col-lg-4 col-md-6 col-10"></a>
	</div>

	<div class="container pt-2 pb-1">
		<div id="episodesContainer" class="ctv_container card row mb-4 mx-sm-0 mx-3">
			<h4 class="mb-3">Watch Dessert Catch! Teenieping</h4>
		</div>

		<div class="ctv_container card row mb-4 mx-sm-0 mx-3">
			<div id="nwEmpty" class="card flex-row">
				<div class="card-body p-0"><img src="nwicon.png"></div>
				<div class="card-body ps-5 p-0 my-auto col-12">
  					<h3>Next week: TBA</h3>
  					<p class="card-text">Next trailer dropping on Thursday</p>
  				</div>
  			</div>
  			<div id="nwContainer" class="d-md-flex">
				<div class="col-md-6 py-2 d-md-flex justify-content-center flex-column">
					<div class="ratio ratio-16x9"><iframe id="nwTrailer" src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
				</div>
  				<div class="col-md-6 ps-md-5 py-2 d-flex justify-content-center flex-column">
  					<h4 class="lh-1 pt-md-0 pt-3 mb-2">Next week:</h4>
  					<h3 id="nwTitle" class="lh-1 pe-3 mb-3">...</h3>
					<p id="nwDesc" class="pe-3 mb-0"></p>
					<!--<h4 id="nwAirdate" class="pt-2 col-md-10"></h4>
					<a href="https://dateful.com/time-zone-converter?t=0850&tz2=Korea-Standard-Time-KST" id="nwTime" class="ctvbutton card align-self-start h6">Check time for your region</a>-->
  				</div>
  			</div>
  		</div>
  	</div>

	<footer class="text-center text-lg-start"><h6 class="text-center p-3 pt-md-3 pt-0 lh-base">Episodes recorded by Trueping<br />Website made by Glowsham</h6></footer>

	
	<script src="episodes.js"></script>
	<script>
		var episodesList = Object.entries(episodes);
		var nextEpisode = episodesList[episodesList.length - 1][1];

		if (nextEpisode.videoType === 'trailer') {
			episodesList.pop();
			document.getElementById('nwEmpty').style.display = 'none';
			document.getElementById('nwTitle').innerHTML = nextEpisode.title;
			document.getElementById('nwDesc').innerHTML = nextEpisode.description;
			//document.getElementById('nwAirdate').innerHTML = 'Airing on Wednesday, ' + nextEpisode.airdate + ' at 9:35 AM UTC';
			document.getElementById('nwTrailer').src = nextEpisode.videoUrl;
		} else {
			document.getElementById('nwContainer').classList.remove('d-md-flex');
			document.getElementById('nwContainer').classList.add('d-none');
		}

		episodesList.forEach((episode) => {
			document.getElementById('episodesContainer').innerHTML += `<div class="col-lg-4 col-sm-6 py-2"><div class="card h-100">
					<div class="ratio ratio-16x9"><img src="thumbnails/` + episode[0] + `.jpg" class="card-img-top epThumbnail" onerror="this.src='thumbnails/placeholder.jpg';"></div>
					<div class="card-body px-0 pt-1 pb-2">
						<p class="card-text"><a class="stretched-link" href="` + (episode[1].external ? episode[1].videoUrl : 'watch?ep=' + episode [0]) + `">` + episode[1].number + `. ` + (episode[1].title || '') + `</a></p>
					</div>
				</div></div>`;
		});
	</script>
</body>
</html>
